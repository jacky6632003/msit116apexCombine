
@{
    ViewBag.Title = "meteorological";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

<h2>meteorological</h2>

 @*1中正區 2大同區 3中山 4松山 5大安 6.萬華 7.信義 8.士林 9.北投 10內湖 11南港 12文山*@ 
<select class="form-control" id="meteorologicalID" name="meteorologicalID">
    <option value="1">中正區</option>
    <option value="2">大同區</option>
    <option value="3">中山區</option>
    <option value="4">松山區</option>
    <option value="5">大安區</option>
    <option value="6">萬華區</option>
    <option value="7">信義區</option>
    <option value="8">士林區</option>
    <option value="9">北投區</option>
    <option value="10">內湖區</option>
    <option value="11">南港區</option>
    <option value="12">文山區</option>
</select>
<div id="app">
 <div >
     <p>{{list.at}}</p>
     <p>{{list.desc}}</p>
     <img v-bind:src="'https://works.ioa.tw/weather/img/weathers/zeusdesign/' + list.img" class="thumb" title="image file" />
 </div>
  

    </div>


    @section scripts{
      <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.5/vue.js'></script>
        <script>
            //1中正區 2大同區 3中山 4松山 5大安 6.萬華 7.信義 8.士林 9.北投 10內湖 11南港 12文山
            $(document).ready(function () {
                var obj = [];
                var vm = new Vue({
                    el: "#app",
                    data: {
                        list: null
                    }
                })
               
                $('#meteorologicalID').change(function () {
                    var s = $("#meteorologicalID").val();
                    $.ajax({
                        url: 'https://works.ioa.tw/weather/api/weathers/'+s+'.json',
                        success: function (res) {
                            vm.list = res;
                         
                        }
                    });
                });
                
            })



        </script>


    }
